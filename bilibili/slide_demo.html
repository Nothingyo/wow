<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <title>slide_demo</title>
  <style>
        *{
            margin: 0px;
            padding: 0px;
        }
    #header{
      height:170px;
      position:relative;
    }
    #slide{
      width:980px;
      height:220px;
    }
    #slide1 , #slide2{
      display: inline-block;
    }
    #slide1,#slide1 img,#slide1 ul,#slide1 li{
      position: absolute;
      z-index: 1;
      width:440px;
      height:220px;
    }
    #slide1 .title{
      z-index: 2;
      position:absolute;
      bottom: 0;
      left:0;
      padding-left: 10px;
      width: 100%;
      height: 25px;
      font-size: 14px;
      color:#fff;
      text-decoration: none;
    }

    #slide1 .trig{
      position: absolute;
      z-index: 3;
      bottom: 6px;
      right: 20px;
      height: 22px;
      width: 130px;
    }
    #slide1 .trig li,#slide1 .trig li img{
      display: inline-block;
      width:25px;
      height: 25px;
      position:relative;
    }
    #slide2{
      width:540px;
      height:220px;
    }
    
    </style>
</head>
<body>
    <div id="all">
      <div id="header"></div>

      <div id="main">
        <div id="slide">
          <div id="slide1">

          </div>
          <div id="slide2"></div>
        </div>
      </div>

      <div id="footer"></div>
    </div>


</body>

 <script>

  let currentIndex = 0;
  const images = [
    {
      url: 'picture/1.jpg',name:'挑战第一次，不试你怎么知道？'
    },
    {
      url: 'picture/2.jpg',name:'疑案追声'
    },
    {
      url: 'picture/3.jpg',name:'考研冲鸭！'
    },
    {
      url: 'picture/4.jpg',name:'舞蹈'
    },
    {
      url: 'picture/5.jpg',name:'爱是孤独的开始'
    }
  ]

  var str1='<ul class="picture"></ul><ul class="trig"></ul>';
  var slide1=document.querySelector("#slide1");
  slide1.innerHTML=str1;


  function showImages () {
    //console.log(`currentIndex`);
    var str  = ` <li><a href="#"><img src=${images[currentIndex].url}></a><a href="#" class='title'>${images[currentIndex].name}</a></li>`

    var slide1_img = document.querySelector('.picture');
    slide1_img.innerHTML = str;
  }


var trig=document.querySelector('.trig');
for(var i=0;i<5;i++){
  var li=document.createElement('li');
  li.innerHTML="<a href='#'><img src='picture/trig0.png' style='height:18px ,width:18px'></a>";
  li.class='';
  trig.appendChild(li);
}

for(var i=0;i<5;i++){
  var trig_li=document.querySelector('.trig').children[i];
  trig_li.onmouseover=function(){
    if(trig_li.class!='on')
    trig_li.class='ready';
    showTrig();
    //console.log(trig_li.class);
  }
  trig_li.onmouseout=function(){
    if(trig_li.class!='on')
    trig_li.class='';
    showTrig();
    console.log(trig_li.class);
  }
  trig_li.onclick=function(){
    var cur_li=document.querySelector('.trig').children;
    cur_li[currentIndex].class='';
    currentIndex=trigs[i].index;
    showImages();
  }
  //console.log(trig_li.class);
}



function showTrig(){
  var cur_li=document.querySelector('.trig').children;
  //console.log(cur_li);
  cur_li[currentIndex].class='on';
  cur_li[(currentIndex+4)%5].class='';

  for(var i=0;i<cur_li.length;i++){
    if(cur_li[i].class=='on'){
      cur_li[i].innerHTML="<a href='#'><img src='picture/trig2.png' style='height:18px ,width:18px'></a>";
    }else if(cur_li[i].class=='ready'){
      cur_li[i].innerHTML="<a href='#'><img src='picture/trig1.png' style='height:18px ,width:18px'></a>";
    }else{
      cur_li[i].innerHTML="<a href='#'><img src='picture/trig0.png' style='height:18px ,width:18px'><a/>";
    }
  }
}

showImages();
showTrig();

var time;
function showtime(){
  time=setInterval(() => {
    showImages();
    showTrig();
    currentIndex += 1;
    if (currentIndex >= images.length) {
      currentIndex = 0;
    }
  }, 2000); 
  }

showtime();

var ele=document.getElementById("slide1");
  ele.onmouseover=function(){
    clearInterval(time);
  }
  ele.onmouseout=function(){
    showtime();
  }

 </script>
</html>